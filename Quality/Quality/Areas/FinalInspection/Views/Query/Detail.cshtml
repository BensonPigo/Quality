@{
    ViewBag.Title = "Detail";
}

@model DatabaseObject.ViewModel.FinalInspection.QueryReport

@section FinalInspection_head{
    <style type="text/css">
        .whiteBackgrond div {
            padding-bottom: 0.5em;
        }

        #tab-Change {
            width: 100%;            
        }

        #tab-Change > ul {
            display: block;
            margin: 0;
            list-style: none;
        }

        .tab-title {
            list-style: none;
        }

        #tab-Change > ul > li {
            display: inline-block;
            vertical-align: top;
            margin: 0 -1px -1px 0;
            border: 1px solid #BCBCBC;
            height: 4vh;
            line-height: 25px;
            background: #CDCDCD;
            padding: 0 15px;
            list-style: none;
            box-sizing: border-box;
        }

        #tab-Change > ul > li a {
            color: #000;
            text-decoration: none;
        }

        #tab-Change > ul > li.active {
            border-bottom: 1px solid #fff;
            background: #fff;
        }

        #tab-Change > .tab-inner {
            padding:10px;
            color: #000;
            border: 1px black solid;
            height: 50vh;
            overflow: scroll;
            overflow-x: hidden;
        }
    </style>
}

<div class="whiteBackgrond" style="height:86vh">


    <div style="padding:1em">
        <div>
            <h1 style="font-size:2em">Inspection Report</h1>
            <button class="site-btn btn-blue" style="position:absolute;top:2em;right:0">Download</button>
        </div>
        <div style="display:inline-block;border:1px solid gray;width:38%;height:15vh;padding-left:5px">
            <div><h1 style="font-size:1.5em">PO information</h1></div>
            <div>
                <table>
                    <tr>
                        <td>PO#</td>
                        <td style="width:10%">@Model.FinalInspection.POID</td>
                        <td>SP#</td>
                        <td style="width:20%">@Model.SP</td>
                        <td>Style</td>
                        <td style="width:20%">@Model.SP</td>
                        <td>Brand</td>
                        <td style="width:10%">@Model.BrandID</td>
                    </tr>
                    <tr>
                        <td>Factory</td>
                        <td>@Model.FinalInspection.FactoryID</td>
                        <td colspan="2">Total SP# Qty</td>
                        <td>@Model.TotalSPQty</td>
                        <td colspan="3"></td>
                    </tr>
                </table>
            </div>
        </div>
        <div style="display:inline-block;border:1px solid gray;width:58%;height:15vh;padding-left:5px">
            <div><h1 style="font-size:1.5em">Inspection Detail</h1></div>
            <div>
                <table>
                    <tr>
                        <td>Inspection Stage</td>
                        <td>@Model.FinalInspection.InspectionStage</td>
                        <td>Carton</td>
                        <td colspan="2">@Model.Carton</td>
                        <td colspan="2"></td>
                    </tr>
                    <tr>
                        <td>Audit Date</td>
                        <td>@Convert.ToDateTime(Model.FinalInspection.AuditDate).ToString("yyyy/MM/dd")</td>
                        <td>Available Qty</td>
                        <td>@Model.AvailableQty</td>
                        <td colspan="4"></td>
                    </tr>
                    <tr>
                        <td>AQL Plan</td>
                        <td>@Model.AQLPlan</td>
                        <td>Sample Plan Qty</td>
                        <td>@Model.FinalInspection.SampleSize</td>
                        <td>Accepted</td>
                        <td>@Model.FinalInspection.AcceptQty</td>
                        <td>Rejected</td>
                        <td>@Model.FinalInspection.RejectQty</td>
                    </tr>
                </table>
            </div>
        </div>
        <div><h1 style="font-size:2em">Inspection Detail</h1></div>
        <div id="tab-Change">
            <ul class="tab-title">
                <li link="#tab01">General</li>
                <li link="#tab02">Check List</li>
                <li link="#tab03">Defect</li>
                <li link="#tab04">Beautiful Product Audit</li>
                <li link="#tab05">Moisture</li>
                <li link="#tab06">Measurement</li>
                <li link="#tab07">Others</li>
            </ul>
            <div id="tab01" class="tab-inner">
                <div style="height:auto">
                    @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab1_Layout.cshtml")
                </div>
            </div>
            <div id="tab02" class="tab-inner">
                @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab2_Layout.cshtml")
            </div>
            <div id="tab03" class="tab-inner">
                @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab3_Layout.cshtml")
            </div>
            <div id="tab04" class="tab-inner">
                @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab4_Layout.cshtml")
            </div>
            <div id="tab05" class="tab-inner">
                @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab5_Layout.cshtml")
            </div>
            <div id="tab06" class="tab-inner">
                @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab6_Layout.cshtml")
            </div>
            <div id="tab07" class="tab-inner">
                @Html.Partial("~/Areas/FinalInspection/Views/Query/_Tab7_Layout.cshtml")
            </div>
        </div>
        <div>
            <table style="width:100%">
                <tr>
                    <td style="width:12%">CFA</td>
                    <td style="width:10%">@Model.FinalInspection.CFA</td>
                    <td style="width:15%">Pass Qty(pcs)</td>
                    <td style="width:5%">@Model.FinalInspection.PassQty</td>
                    <td style="width:15%">Inpection Result</td>
                    <td style="width:10%">@Model.FinalInspection.InspectionResult</td>
                    <td style="width:10%" rowspan="2"><button type="button" class="site-btn btn-red">Go On Inspect</button></td>
                    <td style="width:10%" rowspan="2"><button type="button" class="site-btn btn-blue">Send Mail</button></td>
                </tr>
                <tr>
                    <td>Submit Date</td>
                    <td>
                        @if (Model.FinalInspection.SubmitDate == null)
                        {
                            @:N/A
                        }
                        else
                        {
                            @Convert.ToDateTime(Model.FinalInspection.SubmitDate).ToString("yyyy/MM/dd")
                        }
                    </td>
                    <td>Reject Qty(pcs)</td>
                    <td>@Model.FinalInspection.RejectQty</td>
                    <td>Shipment Status</td>
                    <td>@Model.FinalInspection.ShipmentStatus</td>
                </tr>
            </table>
        </div>
    </div>
</div>
@section FinalInspection_script
{
    <script>
        var msg = new MessagerAlert();

        $(function () {
            tabChange();
        });

        function tabChange() {
            var $li = $('#tab-Change > ul.tab-title li');
            $($li.eq(0).attr('link')).show();

            $($li.eq(0).addClass('active').attr('link')).siblings('.tab-inner').hide();
            $li.click(function () {
                $($(this).attr('link')).show().siblings('.tab-inner').hide();
                $(this).addClass('active').siblings('.active').removeClass('active');
            });
        }
    </script>
}