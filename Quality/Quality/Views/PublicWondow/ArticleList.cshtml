@using DatabaseObject.Public

@{
    Layout = null;
}

@model List<Window_Article>

<script src="~/Scripts/jquery-3.4.1.min.js"></script>

<style>

    ul {
        padding: 0;
    }

    li {
        list-style-type: none;
        border: 1px solid black;
        padding: 2px;
    }

    td {
        border-style: ridge;
    }

    .head {
        border-top: 2px solid black;
        text-align: center;
        font-size: 1.2em;
        background-color: lightgray;
    }

    li:hover {
        background-color: lightblue;
        cursor: pointer;
    }
</style>

<fieldset style="width:284px;height:500px;">
    <legend>Article</legend>
    @using (Html.BeginForm("ArticleList", ViewContext.RouteData.GetRequiredString("Controller"), new { }, FormMethod.Post, new { @width = "100%", @height = "5%", @style = "margin-bottom:10px;" }))
    {
        <input type="text" name="Article" value="" />
        @Html.Hidden("OrderID", ViewData["OrderID"]);
        @Html.Hidden("StyleUkey", ViewData["StyleUkey"]);
        @Html.Hidden("StyleID", ViewData["StyleID"]);
        @Html.Hidden("BrandID", ViewData["BrandID"]);
        @Html.Hidden("SeasonID", ViewData["SeasonID"]);
        <input type="submit" value="Query" />
        <input id="btnExit" type="button" value="Exit" />
    }
    @*</div>*@

    <div style="width:100%;height:90%;overflow-y: scroll;">
        <ul border="1" style="width:100%;height:100%;">
            <li class="head">
                Article
            </li>
            @foreach (var item in Model)
            {
                <li class="SelectItem">@item.Article</li>

            }
        </ul>
    </div>
</fieldset>

<script>


    $(function () {
        $(".SelectItem").click(function () {

            // 呼叫父視窗的GetArticle Function，把值傳回去
            window.opener.GetArticleList($(this).text());

            window.close();
        });

        $("#btnExit").click(function () {
            window.close();
        });
    });
</script>